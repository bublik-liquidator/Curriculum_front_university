import{a as K,b}from"./chunk-RURBEVLO.js";import{a as Q,c as X}from"./chunk-3MLLPJBA.js";import{Aa as j,Ab as H,Db as V,Eb as U,Fb as $,G as w,Gb as q,Ib as J,K as u,La as p,Ma as O,N as m,Oa as P,P as g,Pa as h,X as k,Xa as E,Ya as A,ba as y,ca as f,g as I,gb as x,hb as D,ja as F,kb as T,lb as z,mb as B,n as M,ob as R,qb as _,ra as r,rb as c,sa as s,ta as a,tb as L,xb as N,yb as S,yc as W,zb as G}from"./chunk-KKIUVDZZ.js";var Z=(()=>{let t=class t{constructor(e,i,n,v){this.router=e,this.formBuilder=i,this.loginService=n,this.dialog=v,this.formErrors="",this.destroySubject=new I}ngOnInit(){this.initializeForm()}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete()}initializeForm(){this.loginForm=this.formBuilder.group({login:["",S.required],password:["",S.required]}),this.loginForm.setValue({login:"",password:""})}validateForm(){if(this.formErrors="",this.loginForm.invalid){let e=Object.keys(this.loginForm.controls).filter(i=>this.loginForm.get(i).invalid);this.formErrors=`${e.join(", ")} \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044F.`,e.forEach(i=>this.loginForm.get(i).markAsTouched({onlySelf:!0}))}}login(){this.loginService.login(this.loginForm.value.login,this.loginForm.value.password).pipe(w(this.destroySubject)).subscribe({next:e=>{localStorage.setItem("token",e.token),this.router.navigate(["/account/Curriculas"])},error:e=>{console.log(e.error),e.message.includes("net")?this.openModal("\u041F\u0440\u043E\u0431\u043B\u0435\u043C\u044B \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043E\u043C. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."):this.openModal(e.error)}})}openModal(e){let i=this.dialog.open(X,{data:{fields:[{field:"name",type:"info",value:e}]}});return i.afterClosed().pipe(M(()=>i),w(this.destroySubject))}};t.\u0275fac=function(i){return new(i||t)(f(c),f(q),f(b),f(Q))},t.\u0275cmp=g({type:t,selectors:[["login"]],standalone:!0,features:[P([b]),h],decls:22,vars:2,consts:[[1,"background"],[1,"container"],["src","assets/images/owl.jpg",1,"image"],[1,"content"],["src","assets/images/img2.png",1,"logo"],[1,"instruction"],[1,"error-container"],[1,"form-errors"],[1,"label-phone"],[1,"title"],[3,"formGroup","ngSubmit"],["type","text","formControlName","login","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043B\u043E\u0433\u0438\u043D",1,"input-field-phone"],[1,"label-password"],["type","password","formControlName","password","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043F\u0430\u0440\u043E\u043B\u044C",1,"input-field-password"],["type","submit",1,"login-button"]],template:function(i,n){i&1&&(a(0,"div",0),r(1,"div",1),a(2,"img",2),r(3,"div",3),a(4,"img",4),r(5,"div",5),p(6,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043B\u043E\u0433\u0438\u043D \u0438 \u043F\u0430\u0440\u043E\u043B\u044C"),s(),r(7,"div",6)(8,"div",7),p(9),s()(),r(10,"div",8),p(11,"\u041B\u041E\u0413\u0418\u041D"),s(),r(12,"div",9),p(13,"\u0417\u0430\u0439\u0442\u0438 \u0432 Admin Panel"),s(),r(14,"form",10),j("ngSubmit",function(){return n.login()}),a(15,"input",11),r(16,"div",12),p(17,"\u041F\u0410\u0420\u041E\u041B\u042C"),s(),a(18,"input",13),r(19,"div")(20,"button",14),p(21,"\u0412\u0445\u043E\u0434"),s()()()()()),i&2&&(y(9),O(n.formErrors),y(5),F("formGroup",n.loginForm))},dependencies:[J,V,N,G,H,U,$,z,x],styles:[".container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center}.background[_ngcontent-%COMP%]{width:750px;height:580px;position:absolute;background:#fff;border-radius:30px;inset:0 0 0 40px;margin:auto}.image[_ngcontent-%COMP%]{margin-right:20px;width:400px;height:581px;border-top-left-radius:30px;border-bottom-left-radius:30px}.content[_ngcontent-%COMP%]{width:316px;height:500px}.logo[_ngcontent-%COMP%]{width:100px;height:98.1px;margin-left:108px;top:20px;position:absolute}.instruction[_ngcontent-%COMP%]{margin-left:55px;top:169px;position:absolute;color:#9fa2b4;font-size:16px;font-weight:500;word-wrap:break-word;font-family:Inter}.error-container[_ngcontent-%COMP%]{display:flex;justify-content:center;position:absolute;top:192px;width:45%}.form-errors[_ngcontent-%COMP%]{text-align:center;color:red;font-size:16px;font-weight:500;font-family:Inter}.label-phone[_ngcontent-%COMP%]{margin-left:0;top:236px;position:absolute;color:#101010;font-size:14px;font-weight:600;word-wrap:break-word;font-family:Inter;font-weight:700}.title[_ngcontent-%COMP%]{margin-left:33px;top:127px;position:absolute;color:#252733;font-size:24px;font-weight:600;word-wrap:break-word;font-family:Inter}.input-field-phone[_ngcontent-%COMP%]{width:306px;height:42px;position:absolute;background:#fcfdfe;border-radius:8px;border:1px #101010 solid;font-family:Inter;padding-left:10px;margin-top:220px}.label-password[_ngcontent-%COMP%]{margin-left:0;top:324px;position:absolute;color:#101010;font-size:14px;font-weight:600;font-family:Inter}.input-field-password[_ngcontent-%COMP%]{width:306px;height:42px;position:absolute;background:#fcfdfe;border-radius:8px;border:1px #101010 solid;font-family:Inter;padding-left:10px;margin-top:308px}.login-button[_ngcontent-%COMP%]{width:303px;height:48px;background-color:#000;border-radius:15px;top:427px;position:absolute;color:#fff;font-size:15px;font-weight:400;word-wrap:break-word;font-family:Inter;transition:transform .2s}.login-button[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.button-icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:103px;top:24px;position:absolute;border-radius:9999px;border:2px white solid;background-color:#fff;font-family:Inter}.signup-text[_ngcontent-%COMP%]{margin-left:5px;top:493px;position:absolute;color:#9fa2b4;font-size:16px;font-weight:400;word-wrap:break-word;overflow:hidden;font-family:Inter}.signup-link[_ngcontent-%COMP%]{margin-left:212px;top:493px;position:absolute;color:#101010;font-size:16px;font-weight:400;word-wrap:break-word;text-decoration:none;font-family:Inter;transition:transform .3s}.signup-link[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]});let o=t;return o})();var d=(()=>{let t=class t{constructor(e){this.router=e}canActivate(){return localStorage.getItem("token")?!0:(this.router.navigate(["/login"]),!1)}};t.\u0275fac=function(i){return new(i||t)(m(c))},t.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})();var l=(()=>{let t=class t{constructor(e){this.router=e}canActivate(e,i){let n=localStorage.getItem("token");return n?K(n).isAdmin?!0:(this.router.navigate(["/login"]),!1):(this.router.navigate(["/login"]),!1)}};t.\u0275fac=function(i){return new(i||t)(m(c))},t.\u0275prov=u({token:t,factory:t.\u0275fac});let o=t;return o})();var tt=[{path:"login",component:Z},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"account",loadComponent:()=>import("./chunk-DQ2LTP3E.js").then(o=>o.AccountComponent),canActivate:[d],children:[{path:"Users",loadComponent:()=>import("./chunk-E5XOA67X.js").then(o=>o.UserContentComponent),canActivate:[l]},{path:"Curriculas",loadComponent:()=>import("./chunk-LDBVF7FO.js").then(o=>o.CurriculumContentComponent),canActivate:[d]},{path:"Specialties",loadComponent:()=>import("./chunk-KXRCIIGD.js").then(o=>o.SpecialtyContentComponent),canActivate:[l]},{path:"Educations",loadComponent:()=>import("./chunk-3T4TQBY3.js").then(o=>o.EducationContentComponent),canActivate:[l]},{path:"Statuses",loadComponent:()=>import("./chunk-D52Z4NCC.js").then(o=>o.StatusContentComponent),canActivate:[l]}]}];var ot=(()=>{let t=class t{constructor(e){this.platformId=e}intercept(e,i){let n=D(this.platformId)?e.clone({headers:e.headers.set("Authorization",`Bearer ${localStorage.getItem("token")}`)}):e;return i.handle(n)}};t.\u0275fac=function(i){return new(i||t)(m(k))},t.\u0275prov=u({token:t,factory:t.\u0275fac});let o=t;return o})();var et={providers:[L(tt),R(),W(),d,l,{provide:T,useClass:ot,multi:!0},{provide:E,useClass:A}]};var it=(()=>{let t=class t{constructor(){this.title="curriculum"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["app-root"]],standalone:!0,features:[h],decls:1,vars:0,template:function(i,n){i&1&&a(0,"router-outlet")},dependencies:[x,_]});let o=t;return o})();B(it,et).catch(o=>console.error(o));
